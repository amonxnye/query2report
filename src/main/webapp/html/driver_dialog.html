<!--  
	Query2Report Copyright (C) 2018  Yogesh Deshpande
	
	This file is part of Query2Report.
	
	Query2Report is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.
	
	Query2Report is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.
	
	You should have received a copy of the GNU General Public License
	along with Query2Report.  If not, see <http://www.gnu.org/licenses/>.
-->

<md-dialog style="width:800px;height:600px;border:1px solid #333;border-radius:15px;padding:20px">
 <md-content>
 	<div style="background-color:white;color:black;border-bottom: 4px solid #333;box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12); padding: 5px;margin-bottom:15px"><h3>Add/Edit Driver</h3></div>
	<div style="background-color:white;color:black;box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)" class="form-group" data-ng-form data-name="driverForm">
		<div class="holderdiv">
			<div class="titlediv">
				Driver Alias
			</div>
			<div class="inputdiv"  data-ng-if="isAddDriver">
				<input id="aliasInput" name="alias" style="width:95%;vertical-align: bottom;border:0px;border-bottom: 1px solid black" placeholder="Driver Alias" data-ng-model="modifiedDriver.alias" required></input>
				<p ng-show="driverForm.alias.$invalid && !driverForm.alias.$pristine" class="help-block">Driver alias is required.</p>
			</div>
			<div class="inputdiv"  data-ng-if="!isAddDriver">
				<input name="alias" style="width:95%;vertical-align: bottom;border:0px;border-bottom: 1px solid black" placeholder="Driver Alias" data-ng-model="modifiedDriver.alias" disabled="disabled"></input>
			</div>
		</div>
		<div class="holderdiv">
			<div class="titlediv">
				Class Name
			</div>
			<div class="inputdiv">
				<input id="classNameInput" name="className" style="width:95%;vertical-align: bottom;border:0px;border-bottom: 1px solid black" placeholder="JDBC Driver Class Name" data-ng-model="modifiedDriver.className"  required></input>
				<p ng-show="driverForm.className.$invalid && !driverForm.className.$pristine" class="help-block">JDBC Driver Class Name is required.</p>
			</div>
		</div>
		<div  class="holderdiv">
			<div class="titlediv">
				Jar File
			</div>
			<div class="inputdiv">
				<input id="jarFileInput" name="jarFile" data-ng-if="modifiedDriver.className" data-ng-model="modifiedDriver.jarFile" readonly></input>
				<input id="jarFileSelectInput" name="jarFile" data-ng-if="jarFile && !modifiedDriver.className"  placeholder="Select Jar file" data-ng-model="jarFile.name" readonly></input>
			</div>
		</div>		
		<div  class="holderdiv">
			<div class="titlediv">
				Upload Jar File
			</div>
			<div class="inputdiv">
				<input id="jarFileUploadSelectInput" name="jarFile" data-ng-model="modifiedDriver.jarFile" file-model="jarFile" type="file" accept="*"></input>
			</div>
		</div>			
	</div>
	<md-dialog-actions layout="row">
		<button id="saveDriverButton" class="btn btn-primary" ng-disabled="driverForm.$invalid" style="border:1px solid #333;margin-left:10px" ng-click="addDriver()">Save Driver</button>
	</md-dialog-actions>
	<br>
	</md-content>
	 <div class="alert alert-danger">
  		<strong>Alert!</strong> The driver jar file will be uploaded to $CATALINA_BASE/webapps/q2r/WEB-INF/lib folder. Verify if the jar is uploaded successfully and restart tomcat.
	</div>
</md-dialog>