<!--  
	Query2Report Copyright (C) 2018  Yogesh Deshpande
	
	This file is part of Query2Report.
	
	Query2Report is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.
	
	Query2Report is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.
	
	You should have received a copy of the GNU General Public License
	along with Query2Report.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="topdiv_adminpages">
<style>
	button{
		display:inline;
	}
	a{
	}
</style>
	<div style="padding:2px;">
		<h4 style="padding-top: 5px">Report(s) List</h4>
		<table>
			<tr>
				<th><label>Search</label></th>
				<th>:</th>
				<th><input type="text" data-ng-model="title"></input></th>
				<th style="float:right;margin-left:100px" data-ng-if="userRole == 'admin'"><button class="btn btn-primary" data-ng-click="deleteReports()">Delete Report(s)</button></th>
			</tr>
		</table>
		<br>
	</div>
	<br>
	<table class="displayTable">
		<tr>
			<th class="widecolmaxwidth" data-ng-if="userRole == 'admin' || reportMode == 'personal'">Delete</th>
			<th class="widecolmaxwidth" data-ng-if="userRole == 'admin' || reportMode == 'personal'">Edit</th>
			<th class="widecolmaxwidth">Report Name</th>
			<th class="widecolmaxwidth">Report Description</th>
			<th class="widecolmaxwidth">Aurthor</th>
			<th class="widecolmaxwidth">Creation Date</th>
			<th class="widecolmaxwidth">Modified Date</th>
		</tr>
		<tr data-ng-repeat="report in reports | filter:title">
			<td style="" data-ng-if="userRole == 'admin' || reportMode == 'personal'"><input id="{{report.title}}Checked" style="margin-left:34%;" data-ng-model="report.isDeleted" class="checkbox" type="checkbox"></input></td>
			<td style="text-align: center;" data-ng-if="userRole == 'admin' || reportMode == 'personal'">
				<a id="{{report.title}}EditRef" ui-sref="openreport({title: report.title,mode: reportMode,type: 'editreport'})">
					<span class="glyphicon glyphicon-edit"></span>
				</a>
			</td>
			<td class="widecolmaxwidth"><a id="{{report.title}}OpenRef" ui-sref="openreport({title: report.title,mode: reportMode,type: 'openreport'})">{{report.title}}</a></td>
			<td class="widecolmaxwidth">{{report.description}}</td>
			<td class="widecolmaxwidth">{{report.aurthor}}</td>
			<td class="widecolmaxwidth">{{report.creationDate | date:'yyyy-MM-dd HH:mm:ss Z'}}</td>
			<td class="widecolmaxwidth">{{report.modifiedDate | date:'yyyy-MM-dd HH:mm:ss Z'}}</td>
		</tr>
	</table>
</div>
